# ci-cd/values.yaml

gitops:
  enabled: true
  
  # Git repository
  repo: "https://github.com/atakang7/iot-analytics.git"
  branch: "main"
  token: ""  # For private repos: ghp_xxxx
  
  # Polling
  pollInterval: "3"
  
  # Run tests before deploy
  runTests: true
  
  # Components to watch and deploy
  # Path is relative to repo root
  java:
    path: "services"  # services/ingestion, services/device-registry
    services:
      - ingestion
      - device-registry
  
  python:
    path: "services/workers"  # services/workers/telemetry-worker, etc
    workers:
      - telemetry-worker
      - stream-worker
      - alert-worker
  
  # Notifications (optional)
  slack: ""
  
  # Image
  # Default: bitnami/git (lightweight, no test tools)
  # For tests: use custom image with maven/python or skip tests
  image: "bitnami/git:latest"